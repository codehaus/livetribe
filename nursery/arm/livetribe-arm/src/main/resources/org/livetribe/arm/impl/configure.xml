<?xml version="1.0" encoding="UTF-8"?>
<beans>

    <bean id="armAPIMonitorAdvisor" class="org.livetribe.arm.xbean.ArmAPIMonitorAdvisor"/>
    <bean id="errorCheckingAdvisor" class="org.livetribe.arm.xbean.ErrorCheckingAdvisor"/>
    <bean id="invalidObjectAdvisor" class="org.livetribe.arm.xbean.InvalidObjectAdvisor"/>
    <bean id="objectAdvisor" class="org.livetribe.arm.xbean.ObjectAdvisor"/>

    <bean id="proxyFactory" class="org.livetribe.arm.xbean.ProxyFactory">
        <property name="advisors">
            <list>
                <ref local="armAPIMonitorAdvisor"/>
                <ref local="errorCheckingAdvisor"/>
                <ref local="invalidObjectAdvisor"/>
                <ref local="objectAdvisor"/>
            </list>
        </property>
    </bean>

    <bean id="factoryAdvisor" class="org.livetribe.arm.xbean.FactoryAdvisor">
        <property name="proxyFactory">
            <ref local="proxyFactory"/>
        </property>
    </bean>

    <bean id="metricFactory" class="org.springframework.aop.framework.ProxyFactoryBean">
        <property name="proxyInterfaces">
            <value>org.opengroup.arm40.metric.ArmMetricFactory</value>
        </property>
        <property name="target">
            <bean class="org.livetribe.arm.impl.LTMetricFactoryImpl"/>
        </property>
        <property name="interceptorNames">
            <list>
                <value>armAPIMonitorAdvisor</value>
                <value>errorCheckingAdvisor</value>
                <value>factoryAdvisor</value>
            </list>
        </property>
    </bean>

    <bean id="transactionFactory" class="org.springframework.aop.framework.ProxyFactoryBean">
        <property name="proxyInterfaces">
            <value>org.opengroup.arm40.transaction.ArmTransactionFactory</value>
        </property>
        <property name="target">
            <bean class="org.livetribe.arm.impl.LTTransactionFactoryImpl"/>
        </property>
        <property name="interceptorNames">
            <list>
                <value>armAPIMonitorAdvisor</value>
                <value>errorCheckingAdvisor</value>
                <value>factoryAdvisor</value>
            </list>
        </property>
    </bean>

    <bean id="tranReportFactory" class="org.springframework.aop.framework.ProxyFactoryBean">
        <property name="proxyInterfaces">
            <value>org.opengroup.arm40.tranreport.ArmTranReportFactory</value>
        </property>
        <property name="target">
            <bean class="org.livetribe.arm.impl.LTTranReportFactoryImpl"/>
        </property>
        <property name="interceptorNames">
            <list>
                <value>armAPIMonitorAdvisor</value>
                <value>errorCheckingAdvisor</value>
                <value>factoryAdvisor</value>
            </list>
        </property>
    </bean>

</beans>
