<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns:jmx="http://xbean.apache.org/schemas/jmx">

    <bean id="debugInterceptor" class="org.livetribe.arm.xbean.FactoryAdviceDelete"/>

    <bean id="factory" class="org.springframework.aop.framework.ProxyFactoryBean">
        <property name="proxyInterfaces">
            <value>org.livetribe.arm.xbean.Factory</value>
        </property>

        <property name="target">
            <bean class="org.livetribe.arm.xbean.FactoryBean">
                <property name="name" value="Honda"/>
                <lookup-method name="generateAuto" bean="automobiles"/>
            </bean>
        </property>
        <property name="interceptorNames">
            <list>
                <value>debugInterceptor</value>
            </list>
        </property>
    </bean>


    <bean id="automobiles" class="org.springframework.aop.framework.ProxyFactoryBean">
        <property name="proxyInterfaces">
            <value>org.livetribe.arm.xbean.Automobile</value>
        </property>
        <property name="target">
            <bean class="org.livetribe.arm.xbean.AutomobileBean" singleton="false"/>
        </property>
        <property name="interceptorNames">
            <list>
                <value>debugInterceptor</value>
            </list>
        </property>
    </bean>

</beans>
